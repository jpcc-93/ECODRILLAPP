<!-- src/app/components/admin/admin.component.html -->
<div class="max-w-5xl mx-auto">
  
  <h2 class="text-3xl font-bold text-gray-800 mb-6">Gestión de Empleados</h2>

  <!-- Formulario para Añadir Nuevo Empleado -->
  <div class="bg-white p-6 rounded-lg shadow-md mb-8">
    <h3 class="text-xl font-semibold text-gray-700 mb-4">Añadir Nuevo Empleado</h3>
    <form (ngSubmit)="onAddEmployee(employeeForm)" #employeeForm="ngForm" class="grid grid-cols-1 md:grid-cols-3 gap-4 items-end">
      <!-- Campo Nombre -->
      <div class="col-span-1">
        <label for="name" class="block text-sm font-medium text-gray-600">Nombre Completo</label>
        <input type="text" name="name" [(ngModel)]="newEmployee.name" required [disabled]="isLoading" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-[#cddc39] focus:border-[#cddc39]">
      </div>
       <!-- Campo ID de Carné (Código de Barras) -->
       <div class="col-span-1">
        <label for="id" class="block text-sm font-medium text-gray-600">ID de Carné (Código Barras)</label>
        <input type="text" name="id" [(ngModel)]="newEmployee.id" required [disabled]="isLoading" class="mt-1 w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:ring-[#cddc39] focus:border-[#cddc39]">
      </div>
      <!-- Botón -->
      <div class="md:col-span-3">
        <button type="submit" [disabled]="!employeeForm.form.valid || isLoading" class="w-full md:w-auto bg-gray-800 text-white font-bold py-2 px-6 rounded-md hover:bg-gray-700 disabled:bg-gray-400 transition-all">
          <span *ngIf="!isLoading">Añadir Empleado</span>
          <span *ngIf="isLoading">Añadiendo...</span>
        </button>
      </div>
    </form>
  </div>

  <!-- Lista de Empleados -->
  <div class="bg-white p-6 rounded-lg shadow-md">
    <h3 class="text-xl font-semibold text-gray-700 mb-4">Lista de Empleados Activos</h3>
    <div class="overflow-x-auto">
      <table class="min-w-full divide-y divide-gray-200">
        <thead class="bg-gray-50">
          <tr>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">Nombre</th>
            <th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider">ID Carné</th>
            <th class="px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider">Acciones</th>
          </tr>
        </thead>
        <tbody class="bg-white divide-y divide-gray-200">
          <tr *ngFor="let emp of employees$ | async">
            <td class="px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900">{{ emp.name }}</td>
            <td class="px-6 py-4 whitespace-nowrap text-sm text-gray-500">{{ emp.id }}</td>
            <td class="px-6 py-4 whitespace-nowrap text-right text-sm font-medium">
              <button (click)="onDeleteEmployee(emp.id!)" class="text-red-600 hover:text-red-900">Eliminar</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
